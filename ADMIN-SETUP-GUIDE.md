# ๐ ุฏููู ุฅุนุฏุงุฏ ุญุณุงุจ ุงูุฃุฏูู

ูุฐุง ุงูุฏููู ูุดุฑุญ ุจุงูุชูุตูู ููููุฉ ุชุณุฌููู ููุณุคูู (Admin) ูู ุงููุชุฌุฑ ุงูุฅููุชุฑููู.

---

## ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ

ูุจู ุงูุจุฏุกุ ุชุฃูุฏ ูู:
- โ ุชุดุบูู ููู `admins-setup.sql` ูู Supabase (ููุฌูุฏ ูู ูุฌูุฏ ุงููุดุฑูุน)
- โ ุฅุนุฏุงุฏ Google OAuth ูู Supabase (ุงุฎุชูุงุฑู)
- โ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ููุฌูุฏุฉ ูู `.env.local`

---

## ๐ ุงูุทุฑููุฉ ุงูุฃููู: ุงูุชุณุฌูู ุจุงูุฅูููู ููููุฉ ุงููุฑูุฑ

### ุงูุฎุทูุฉ 1: ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ

1. **ุงูุชุญ ุงููููุน** ูู ุงููุชุตูุญ: `http://localhost:3000`
2. **ุงุถุบุท ุนูู** "ุฅูุดุงุก ุญุณุงุจ" ูู ุฃุนูู ุงูุตูุญุฉ
3. **ุงููุฃ ุงูุจูุงูุงุช:**
   - ุงูุงุณู ุงููุงูู: `ูุญูุฏ ุฃุญูุฏ` (ูุซูุงู)
   - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู: `admin@example.com`
   - ูููุฉ ุงููุฑูุฑ: `123456` (ุฃู ุฃู ูููุฉ ูุฑูุฑ ุชุฎุชุงุฑูุง)
   - ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ: `123456`
4. **ุงุถุบุท** "ุฅูุดุงุก ุญุณุงุจ" โ

ุงูุขู ุญุณุงุจู ุชู ุฅูุดุงุคู ุจูุฌุงุญุ ููู ูู ูุตุจุญ ุฃุฏูู ุจุนุฏ.

---

### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู UUID ุงููุณุชุฎุฏู

1. **ุงุฐูุจ ุฅูู ููุญุฉ ุชุญูู Supabase:**
   ```
   https://supabase.com/dashboard/project/YOUR_PROJECT_ID
   ```

2. **ุงุฎุชุฑ ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ:**
   ```
   Authentication โ Users
   ```

3. **ุงุจุญุซ ุนู ุญุณุงุจู** ุจุงูุฅูููู `admin@example.com`

4. **ุงูุณุฎ UUID** (ุงูููุฌูุฏ ูู ุนููุฏ `ID`)
   - ุณูููู ุดููู ูุซู: `a1b2c3d4-e5f6-7890-abcd-ef1234567890`

---

### ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ููุณู ูุฃุฏูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

1. **ุงุฐูุจ ุฅูู SQL Editor ูู Supabase:**
   ```
   SQL Editor โ New query
   ```

2. **ุงูุณุฎ ูุงูุตู ุงูููุฏ ุงูุชุงูู:**
   ```sql
   INSERT INTO admins (user_id, email, full_name, role)
   VALUES (
     'ุฃูุตู-UUID-ููุง',
     'admin@example.com',
     'ูุญูุฏ ุฃุญูุฏ',
     'super_admin'
   );
   ```

3. **ุงุณุชุจุฏู ุงูุจูุงูุงุช:**
   - `'ุฃูุตู-UUID-ููุง'` โ ุงูุตู ุงูู UUID ุงูุฐู ูุณุฎุชู
   - `'admin@example.com'` โ ุจุฑูุฏู ุงูุฅููุชุฑููู
   - `'ูุญูุฏ ุฃุญูุฏ'` โ ุงุณูู

4. **ูุซุงู ูุงูู:**
   ```sql
   INSERT INTO admins (user_id, email, full_name, role)
   VALUES (
     'a1b2c3d4-e5f6-7890-abcd-ef1234567890',
     'admin@example.com',
     'ูุญูุฏ ุฃุญูุฏ',
     'super_admin'
   );
   ```

5. **ุงุถุบุท RUN** โถ๏ธ

6. **ุชุฃูุฏ ูู ุงููุฌุงุญ** - ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ:
   ```
   Success. No rows returned
   ```

---

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุงูุตูุงุญูุงุช

1. **ุณุฌู ุฎุฑูุฌ** ูู ุงููููุน (ุฅุฐุง ููุช ูุณุฌู ุฏุฎูู)
2. **ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู** ุจููุณ ุงูุญุณุงุจ:
   - ุงูุจุฑูุฏ: `admin@example.com`
   - ูููุฉ ุงููุฑูุฑ: `123456`

3. **ุงุถุบุท ุนูู ุงุณูู** ูู ุฃุนูู ุงูุตูุญุฉ (ูู ุงูู Header)

4. **ูุฌุจ ุฃู ุชุฑู ูู ุงููุงุฆูุฉ:**
   ```
   ๐ ุญุณุงุจู
   ๐ฆ ุทูุจุงุชู
   โ๏ธ ููุญุฉ ุงูุชุญูู  โ ูุฐุง ุงูุฑุงุจุท ุงูุฌุฏูุฏ!
   ๐ช ุชุณุฌูู ุงูุฎุฑูุฌ
   ```

5. **ุงุถุบุท ุนูู "ููุญุฉ ุงูุชุญูู"** ููุฏุฎูู ุฅูู ุตูุญุฉ ุงูุฃุฏูู ๐

---

## ๐ ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุงูุชุณุฌูู ุจุญุณุงุจ Google

### ุงูุฎุทูุฉ 1: ุชุณุฌูู ุญุณุงุจ ุจู Google

1. **ุงูุชุญ ุงููููุน** ูู ุงููุชุตูุญ
2. **ุงุถุบุท ุนูู** "ุฅูุดุงุก ุญุณุงุจ" ุฃู "ุชุณุฌูู ุงูุฏุฎูู"
3. **ุงุถุบุท ุนูู ุฒุฑ** "ุชุณุฌูู ุงูุฏุฎูู ุจู Google"
4. **ุงุฎุชุฑ ุญุณุงุจ Google** ุงูุฐู ุชุฑูุฏ ุงุณุชุฎุฏุงูู
5. **ุงูุชุธุฑ ุญุชู ูุชู ุงูุชูุฌูู** ูููููุน ูุฑุฉ ุฃุฎุฑู

ุงูุขู ุญุณุงุจู ุชู ุฅูุดุงุคู ุจูุฌุงุญ ุนุจุฑ Google.

---

### ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ููุณู ูุฃุฏูู (ุงูุทุฑููุฉ ุงูุณุฑูุนุฉ)

1. **ุงุฐูุจ ุฅูู SQL Editor ูู Supabase**

2. **ุงุณุชุฎุฏู ูุฐุง ุงูููุฏ ุงููุจุณุท:**
   ```sql
   INSERT INTO admins (user_id, email, full_name, role)
   SELECT
     id,
     email,
     raw_user_meta_data->>'full_name',
     'super_admin'
   FROM auth.users
   WHERE email = 'your-gmail@gmail.com';
   ```

3. **ุงุณุชุจุฏู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:**
   - ุบูุฑ `your-gmail@gmail.com` ุฅูู ุงูุจุฑูุฏ ุงูุฐู ุณุฌูุช ุจู ูู Google

4. **ูุซุงู:**
   ```sql
   INSERT INTO admins (user_id, email, full_name, role)
   SELECT
     id,
     email,
     raw_user_meta_data->>'full_name',
     'super_admin'
   FROM auth.users
   WHERE email = 'mohamed.ahmed@gmail.com';
   ```

5. **ุงุถุบุท RUN** โถ๏ธ

6. **ุณุฌู ุฎุฑูุฌ ูุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู**

7. **ุชุญูู ูู ุธููุฑ "ููุญุฉ ุงูุชุญูู"** ูู ุงููุงุฆูุฉ โ

---

## ๐ ุงูุชุญูู ูู ุฌููุน ุงูุฃุฏูู ุงูููุฌูุฏูู

ูุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ุงููุณุคูููู ูู ุงููุชุฌุฑ:

```sql
SELECT
  id,
  email,
  full_name,
  role,
  is_active,
  created_at
FROM admins
ORDER BY created_at DESC;
```

---

## ๐ฅ ุฅุถุงูุฉ ุฃุฏูู ุขุฎุฑูู ูู ุงููุณุชูุจู

### ุงูุทุฑููุฉ ุงูุฃููู - ุจุงูุฅูููู ูุจุงุดุฑุฉ:

```sql
INSERT INTO admins (user_id, email, full_name, role)
SELECT
  id,
  email,
  raw_user_meta_data->>'full_name',
  'admin'  -- ุฃู 'super_admin' ุญุณุจ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ
FROM auth.users
WHERE email = 'new-admin@example.com';
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ - ุจุงูู UUID ูุจุงุดุฑุฉ:

```sql
INSERT INTO admins (user_id, email, full_name, role)
VALUES (
  'user-uuid-here',
  'new-admin@example.com',
  'ุงุณู ุงูุฃุฏูู ุงูุฌุฏูุฏ',
  'admin'
);
```

---

## ๐ก๏ธ ุงููุฑู ุจูู ุฃุฏูุงุฑ ุงูุฃุฏูู

| ุงูุฏูุฑ | ุงูุตูุงุญูุงุช |
|------|-----------|
| **super_admin** | ุตูุงุญูุงุช ูุงููุฉ: ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช + ุงูุทูุจุงุช + ุฅุถุงูุฉ/ุญุฐู ุฃุฏูู ุขุฎุฑูู + ูู ุดูุก |
| **admin** | ุตูุงุญูุงุช ูุญุฏูุฏุฉ: ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช + ุงูุทูุจุงุช ููุท (ุจุฏูู ุฅุถุงูุฉ ุฃุฏูู) |

**ููุงุญุธุฉ:** ุญุงููุงู ููุง ุงูุฏูุฑูู ูููุง ููุณ ุงูุตูุงุญูุงุชุ ููู ููููู ุงูุชูุฑูู ุจููููุง ูุงุญูุงู.

---

## โ๏ธ ุชุนุทูู ุฃุฏูู (ุจุฏูุงู ูู ุงูุญุฐู)

ุฅุฐุง ุฃุฑุฏุช ุฅููุงู ุตูุงุญูุงุช ุฃุฏูู ูุนูู ุฏูู ุญุฐูู:

```sql
UPDATE admins
SET is_active = false
WHERE email = 'admin-to-disable@example.com';
```

ูุฅุนุงุฏุฉ ุชูุนููู:

```sql
UPDATE admins
SET is_active = true
WHERE email = 'admin-to-enable@example.com';
```

---

## ๐ ุญูุงูุฉ ุตูุญุงุช ุงูุฃุฏูู

ุชู ุฅุถุงูุฉ ุญูุงูุฉ ุชููุงุฆูุฉ ูุฌููุน ุตูุญุงุช ุงูุฃุฏูู:

- โ ุฅุฐุง ุญุงูู ูุณุชุฎุฏู ุนุงุฏู ุงูุฏุฎูู ุฅูู `/admin` โ ุณูุชู ุชูุฌููู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ
- โ ุฅุฐุง ุญุงูู ุฒุงุฆุฑ ุบูุฑ ูุณุฌู ุงูุฏุฎูู โ ุณูุชู ุชูุฌููู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
- โ ููุท ุงููุณุชุฎุฏููู ุงูููุฌูุฏูู ูู ุฌุฏูู `admins` ูุน `is_active = true` ูููููู ุงูุฏุฎูู

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุญูุงูุฉ

### ุชุฌุฑุจุฉ 1: ูุณุชุฎุฏู ุนุงุฏู

1. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ุนุงุฏู (ุจุฏูู ุฅุถุงูุชู ูุฌุฏูู admins)
2. ุญุงูู ุงูุฏุฎูู ุฅูู: `http://localhost:3000/admin`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุณูุชู ุชูุฌููู ููุตูุญุฉ ุงูุฑุฆูุณูุฉ ูุน ุฑุณุงูุฉ "ุบูุฑ ูุตุฑุญ ูู ุจุงููุตูู"

### ุชุฌุฑุจุฉ 2: ุฒุงุฆุฑ ุบูุฑ ูุณุฌู

1. ุณุฌู ุฎุฑูุฌ ูู ุงููููุน
2. ุญุงูู ุงูุฏุฎูู ุฅูู: `http://localhost:3000/admin`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุณูุชู ุชูุฌููู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

### ุชุฌุฑุจุฉ 3: ุฃุฏูู ูุดุท

1. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุงูุฃุฏูู
2. ุงุฏุฎู ุฅูู: `http://localhost:3000/admin`
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ:** ุณุชุฏุฎู ูููุญุฉ ุงูุชุญูู ูุจุงุดุฑุฉ โ

---

## ๐ ุญู ุงููุดุงูู ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ 1: ุฑุงุจุท "ููุญุฉ ุงูุชุญูู" ูุง ูุธูุฑ

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุดุบูู ููู `admins-setup.sql` ูู Supabase
2. ุชุญูู ูู ุฅุถุงูุชู ูุฌุฏูู admins:
   ```sql
   SELECT * FROM admins WHERE email = 'your-email@example.com';
   ```
3. ุณุฌู ุฎุฑูุฌ ูุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
4. ุงูุณุญ ุงููุงุด ูู ุงููุชุตูุญ (Ctrl+Shift+R)

### ุงููุดููุฉ 2: ุฎุทุฃ "table admins does not exist"

**ุงูุญู:**
- ุดุบูู ููู `admins-setup.sql` ูู SQL Editor ูู Supabase
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู ุงูุชูููุฐ

### ุงููุดููุฉ 3: "ุบูุฑ ูุตุฑุญ ูู ุจุงููุตูู" ุฑุบู ุฅุถุงูุชู ูุฃุฏูู

**ุงูุญู:**
1. ุชุญูู ูู ุฃู `is_active = true`:
   ```sql
   SELECT * FROM admins WHERE email = 'your-email@example.com';
   ```
2. ุฅุฐุง ูุงู `false`ุ ูุนููู:
   ```sql
   UPDATE admins SET is_active = true WHERE email = 'your-email@example.com';
   ```
3. ุณุฌู ุฎุฑูุฌ ูุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

---

## ๐ ุชูุงุตู ูุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุชูุงุตู ูุนู ูุณุฃุณุงุนุฏู! ๐

---

## โ ุฎูุงุตุฉ ุณุฑูุนุฉ

```bash
# ุงูุฎุทูุงุช ุจุงุฎุชุตุงุฑ:
1. ุณุฌู ุญุณุงุจ ูู ุงููููุน
2. ุงูุณุฎ UUID ูู Supabase โ Authentication โ Users
3. ุดุบูู SQL:
   INSERT INTO admins (user_id, email, full_name, role)
   VALUES ('UUID-ููุง', 'email', 'name', 'super_admin');
4. ุณุฌู ุฎุฑูุฌ ูุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
5. ุดูู ุฑุงุจุท "ููุญุฉ ุงูุชุญูู" ูู ุงููุงุฆูุฉ
6. ุงุณุชูุชุน! ๐
```

---

**ุชู ุจูุฌุงุญ! ุงูุขู ุฃูุช ุฃุฏูู ูู ุงููุชุฌุฑ** ๐
