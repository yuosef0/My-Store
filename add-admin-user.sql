-- ============================================
-- โ ุฅุถุงูุฉ ูุณุชุฎุฏู ูุฃุฏูู
-- ============================================
-- ุงุณุชุฎุฏู ูุฐุง ุงูููู ูุฅุถุงูุฉ ููุณู ูุฃุฏูู

-- ๐ ุงูุฎุทูุฉ 1: ุงุจุญุซ ุนู user_id ุงูุฎุงุต ุจู
-- ============================================
-- ุดุบูู ูุฐุง ุงูุงุณุชุนูุงู ูุงุณุชุจุฏู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุจุฅููููู:

SELECT
    id as user_id,
    email,
    created_at
FROM auth.users
WHERE email = 'YOUR_EMAIL@example.com';  -- ๐ ุบููุฑ ูุฐุง ุจุฅููููู

-- ุงูุณุฎ ุงูู user_id ูู ุงููุชูุฌุฉ ูุงุณุชุฎุฏูู ูู ุงูุฎุทูุฉ ุงูุชุงููุฉ


-- ๐ฏ ุงูุฎุทูุฉ 2: ุฃุถู ููุณู ูุฃุฏูู
-- ============================================
-- ุงุณุชุจุฏู 'YOUR_USER_ID_HERE' ุจุงูู user_id ูู ุงูุฎุทูุฉ ุงูุณุงุจูุฉ:

INSERT INTO admins (user_id, role, is_active)
VALUES ('YOUR_USER_ID_HERE', 'admin', true)  -- ๐ ุถุน user_id ููุง
ON CONFLICT (user_id)
DO UPDATE SET is_active = true, role = 'admin';


-- โ ุงูุฎุทูุฉ 3: ุชุญูู ูู ุงููุฌุงุญ
-- ============================================
-- ุดุบูู ูุฐุง ููุชุฃูุฏ ูู ุฅุถุงูุชู ูุฃุฏูู:

SELECT
    a.id,
    a.user_id,
    a.role,
    a.is_active,
    u.email
FROM admins a
LEFT JOIN auth.users u ON a.user_id = u.id
WHERE a.is_active = true;


-- ============================================
-- ๐ ููุงุญุธุงุช:
-- ============================================
-- 1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู ุนูู ุงููููุน
-- 2. ุงุจุญุซ ุนู ุฅููููู ูู ุฌุฏูู auth.users
-- 3. ุงูุณุฎ ุงูู user_id ุจุงููุงูู (ูุซู: 12345678-1234-1234-1234-123456789012)
-- 4. ุงุณุชุฎุฏูู ูู INSERT INTO admins
-- 5. ุจุนุฏ ุชูููุฐ ุงูู SQLุ ุญุฏูุซ ุงูุตูุญุฉ ูู ุงููุชุตูุญ
-- ============================================
